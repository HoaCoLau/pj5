<div class="chat-container">
    <div class="chat-header">
        <h2>
            <%= chat.name %>
        </h2>
        <form action="/chats/<%= chat.id %>/leave" method="POST" onsubmit="return confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën r·ªùi kh·ªèi ph√≤ng chat n√†y kh√¥ng?');">
            <button type="submit" class="btn-leave">R·ªùi ph√≤ng</button>
        </form>
    </div>
    <div class="invite-friends-section">
        <h4>M·ªùi th√™m b·∫°n b√®</h4>
        <form action="/chats/<%= chat.id %>/invite" method="POST">
            <% friendsToInvite.forEach(friend=> { %>
                <label><input type="checkbox" name="friendsToInvite" value="<%= friend.id %>">
                    <%= friend.username %>
                </label>
                <% }) %>
                    <button type="submit">M·ªùi</button>
        </form>
    </div>
    <div id="message-list" class="message-list">
    </div>

    <div class="emoji-picker-container">
        <emoji-picker class="light"></emoji-picker>
    </div>

    <form id="chat-form" class="chat-form">
        <input type="file" id="image-input" name="chatImage" accept="image/*" style="display: none;">
        <button type="button" id="image-upload-btn" title="G·ª≠i ·∫£nh"><i class="fa-solid fa-image"></i></button>
        <button type="button" id="emoji-btn" title="Ch·ªçn emoji">üòÉ</button>
        <input type="text" id="message-input" ...>
        <button type="submit" title="G·ª≠i"><i class="fa-solid fa-paper-plane"></i></button>
    </form>
</div>

<script>
    const chatRoomId = '<%= chat.id %>';
    const jwtToken = '<%= token %>';
</script>
<script src="/js/chat.js"></script>
<script type="module" src="https://cdn.jsdelivr.net/npm/emoji-picker-element@^1/index.js"></script>