<h1>Dashboard Quản trị</h1>

<div class="row mb-4">
    <div class="col-md-4">
        <div class="card text-center border-primary mb-3">
            <div class="card-body">
                <h5 class="card-title">Tổng số người dùng</h5>
                <p class="display-6"><%= totalUsers %></p>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card text-center border-success mb-3">
            <div class="card-body">
                <h5 class="card-title">Tổng số phòng chat</h5>
                <p class="display-6"><%= totalChats %></p>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card text-center border-info mb-3">
            <div class="card-body">
                <h5 class="card-title">Tổng số tin nhắn</h5>
                <p class="display-6"><%= totalMessages %></p>
            </div>
        </div>
    </div>
</div>
<div class="card">
    <div class="card-header bg-secondary text-white">
        <h5 class="mb-0">Nhật ký hoạt động gần đây</h5>
    </div>
    <div class="card-body p-0">
        <table class="table table-striped mb-0">
            <thead>
                <tr>
                    <th>Thời gian</th>
                    <th>Người dùng</th>
                    <th>Hành động</th>
                </tr>
            </thead>
            <tbody>
                <% if (recentLogs.length > 0) { %>
                    <% recentLogs.forEach(log => { %>
                        <tr>
                            <td><%= new Date(log.created_at).toLocaleString('vi-VN') %></td>
                            <td><%= log.User ? log.User.username : 'N/A' %></td>
                            <td><%= log.action %></td>
                        </tr>
                    <% }) %>
                <% } else { %>
                    <tr>
                        <td colspan="3">Không có hoạt động nào.</td>
                    </tr>
                <% } %>
            </tbody>
        </table>
    </div>
</div>